sudo: required
dist: trusty
addons:
  artifacts:
    paths:
      - results
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
language: node_js
node_js:
  - '7'
cache:
  directories:
    - node_modules
    - bower_components
    - $HOME/.npm
    - $HOME/.cache
before_script:
  - npm install
before_deploy:
  - npm run build
env:
  global:
    - NODE_ENV=testing
    - ARTIFACTS_BUCKET=js-tasks-ru
    - secure: >-
        ux6Faefu6xTDdmep8WlrKBpLr1KQeq34wNrGRo2DIpEv44tCIjgRKuV07IyUZ2udfOPbuBA4pMTF/wGKe0LTKE1Eg0zoarFnEu7SpGXBTUZBCH5vRqAh43ngQbscBjMfYJDwJSfGaqNmuiLWIXsQJX4MeVONL+aR3eC3fGx0FB51DE6pfH3CEEEXk1dXLSA/UbtaF88vmOYCsxdjwnzQM6GYOKGWUsxSlte3jZioVlRkUBTAf0EGmLSV6bW5vM4LHQ5vdVLDkhN+9t5sKEkMd5cjl4+qhSWQHt4SfA0eRUcvB/WQgOPp4C/h3sJBGqkS0uqNA1DVA0hjU/1JuimVHsX+4lhjEs1usFmAC+v7uAnUoiylVI4J1FqxFcsnnPPnYRgsTfhyVMYYjshspqukLvg6ibERAVCsKVuCqifgw3BEdtbGRkFf0zAJvGsL29cT82bhl8szLMMMvUVGTK0hLAcneFF9H8cy6a37Env/z9z8xJW8ytFPO/AqKIFHm3uSNE5+KY5Ne1yWW42sUJBAvKwd3o+TWYws/6K5tNlRGOvNW4X3gRgJXcwYguwjqDN5/rACkxWXouyZiRCHpSAKHxfbh6fnnaspxZ8kgvIiy876CcorEmm1pj7cOLU5karTmdKJ19afRta8OAk4jhPDGX0JF7WYU0YkOxGL8yreSjk=
    - secure: >-
        p0lugBoJba3wDV3Vr/S69V5EOpkuwYlaajOjlK3eGgjJRJhczCyA2G1i18jU5ubBoeNZbAuEZrF+skVi+8HkXErJAR3zFJ3V8vdc5W1pUSgGghjX02kFnZpsHE9GvzpmNi6Xu22qO5ePlvpXb7QABF/ZdvkgBBFu4fEvh9hZocQBz5PPuMkuc8QJOdJKYWApboYTM/Kv1O/Hi/G00JBOzXDIorm/uMRgDJ+N+YjnE+pOiz6Hb9QP48czONP4P8hWjqgpKoguq9R4hjMiixF9OngBB2kjStDO5NQZuU+0fkEoFQ5tr4LEDCGpLpP1YqoCWVNbVOBVidQ8j67t29H4HXW9KnRI/J9wAYw7PFZ7xZUEj7O6AlbseYDEx8Mwjwtp9Y7xpFiVue9wUIuv1a0mGO17Unl5Jfs5Han+tY9S2XtYyA8InY/JeHeQt0Lv+WHyt8ua93QtCciabwseOrTlp0AY7hUnFuLjAgbiaPgPO1l4kdKl0zapOS/pSjQdtZx/jO1rZ7AAoYzP74oYNpIohC1s6MoL3WtiTWqkP6l0gbB/U4i6/tO+Mkr7IwdzDCRYE6nTfp51ZxhzOpmhrEu6P8l0iqtv5DJfmfaM1iTlMYGO8MdCrfrvzBaY2Kc++llStQ0AdiSk2X2nZ/U30V0pZpRBZwgq5k6+MMZSiikjBws=
script:
  - npm run test
notifications:
  webhooks: 'http://learn.javascript.ru/automation/ci/build'
